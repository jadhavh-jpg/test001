<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PayMoney24 â€“ Landing Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{--primary:#16a34a}
*{box-sizing:border-box;font-family:Inter,system-ui}
body{margin:0;background:#f1f5f9}
.wrapper{display:flex;min-height:100vh}
.builder{width:40%;padding:20px;background:#fff;border-right:1px solid #e5e7eb}
.preview{width:60%;padding:20px}
input,button{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:1px solid #cbd5e1}
button{cursor:pointer;font-weight:700}
.gen{background:#2563eb;color:#fff}
.copy{background:#0f172a;color:#fff}
.wa{background:#22c55e;color:#000}
.card{max-width:420px;margin:auto;background:#fff;border-radius:20px;padding:20px;box-shadow:0 20px 40px rgba(0,0,0,.1)}
.hero{background:var(--primary);color:#fff;padding:20px;border-radius:16px;text-align:center}
.hero h1{margin:0}
img{width:100%;border-radius:16px;margin:14px 0}
.pay{background:#ef4444;color:#fff}
</style>
</head>

<body>

<div class="wrapper" id="builderView">

  <!-- BUILDER -->
  <div class="builder">
    <h2>Create Landing Page</h2>

    Theme Color
    <input type="color" id="color" value="#16a34a">

    Title
    <input id="title" value="3-Day Yoga Class">

    Subtitle
    <input id="sub" value="Beginner Friendly Â· Limited Seats">

    Image URL
    <input id="img" value="https://images.unsplash.com/photo-1552196563-55cd4e45efb3">

    Entry Fee
    <input id="amt" value="500">

    UPI ID
    <input id="upi" value="jadhav.h3@ybl">

    WhatsApp Group Link
    <input id="wa" placeholder="https://chat.whatsapp.com/...">

    <button class="gen" onclick="generate()">Generate Page Link</button>

    <input id="linkBox">
    <button class="copy" onclick="copyLink()">ðŸ“‹ Copy Link</button>
    <button class="wa" onclick="shareWA()">ðŸ“¤ Share WhatsApp</button>
  </div>

  <!-- LIVE PREVIEW -->
  <div class="preview" id="previewBox"></div>

</div>

<!-- PUBLIC LANDING -->
<div id="liveView" style="display:none"></div>

<script>
const q = new URLSearchParams(location.search);
const isLive = q.get("live") === "1";

if(isLive){
  document.getElementById("builderView").style.display="none";
  document.getElementById("liveView").style.display="block";
  render(q, "liveView");
}else{
  generate();
}

function generate(){
  const data={
    t:title.value,
    s:sub.value,
    i:img.value,
    a:amt.value,
    u:upi.value,
    w:wa.value,
    c:color.value.replace("#","")
  };
  const url=location.origin+"?live=1&"+new URLSearchParams(data).toString();
  linkBox.value=url;
  render(new URLSearchParams(data),"previewBox");
}

function render(p,target){
  document.documentElement.style.setProperty("--primary","#"+p.get("c"));
  document.getElementById(target).innerHTML=`
    <div class="card">
      <div class="hero">
        <h1>${p.get("t")}</h1>
        <p>${p.get("s")}</p>
      </div>
      <img src="${p.get("i")}">
      <h3>Entry Fee: â‚¹${p.get("a")}</h3>
      <button class="pay" onclick="pay('${p.get("u")}',${p.get("a")})">Pay & Join</button>
      <button class="wa" onclick="window.open('${p.get("w")}')">Join WhatsApp Group</button>
      <p>âœ… Secure UPI Payment<br>âœ… Instant Confirmation<br>âœ… Mobile Friendly</p>
    </div>`;
}

function pay(upi,amt){
  location.href=`upi://pay?pa=${upi}&am=${amt}&cu=INR`;
}

function copyLink(){
  navigator.clipboard.writeText(linkBox.value);
  alert("Link Copied");
}

function shareWA(){
  window.open("https://wa.me/?text="+encodeURIComponent(linkBox.value));
}
</script>

</body>
</html>
