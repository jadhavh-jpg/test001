<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Landing Page Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter;background:#f1f5f9}
.wrapper{
  max-width:1200px;
  margin:auto;
  padding:20px;
  display:grid;
  grid-template-columns:1fr 1.2fr;
  gap:20px;
}
@media(max-width:900px){
  .wrapper{grid-template-columns:1fr}
}
.card{
  background:#fff;
  border-radius:16px;
  padding:24px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
label{font-weight:600;font-size:14px;margin-top:14px;display:block}
input{
  width:100%;
  padding:12px 14px;
  margin-top:6px;
  border-radius:10px;
  border:1px solid #d1d5db;
}
button{
  margin-top:20px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
  background:#2563eb;
  color:#fff;
}
iframe{
  width:100%;
  height:650px;
  border:none;
  border-radius:14px;
}
.small-btn{background:#0f172a}
.share-btn{background:#22c55e}
</style>
</head>

<body>

<div class="wrapper">

<!-- BUILDER -->
<div class="card">
  <h2>Create Your Landing Page</h2>

  <label>Theme Color</label>
  <input type="color" id="color" value="#16a34a">

  <label>Headline</label>
  <input id="headline" placeholder="3 Day Yoga Class">

  <label>Sub Headline</label>
  <input id="sub" placeholder="Join for better health">

  <label>Upload Image (Gallery)</label>
  <input type="file" id="imageFile" accept="image/*">

  <label>YouTube Video Link (optional)</label>
  <input id="video" placeholder="https://youtube.com/watch?v=...">

  <label>Entry Fee (â‚¹)</label>
  <input id="amount" value="500">

  <label>UPI Payment Link</label>
  <input id="upi" placeholder="upi://pay?pa=...">

  <label>WhatsApp Group Link</label>
  <input id="wa" placeholder="https://chat.whatsapp.com/...">

  <!-- IMPORTANT -->
  <button id="genBtn">Generate Live Preview</button>
</div>

<!-- PREVIEW -->
<div class="card">
  <h3>Live Preview</h3>
  <iframe id="preview"></iframe>

  <h4>Landing Page Link</h4>
  <input id="publicLink" readonly>

  <button class="small-btn" id="copyBtn">ðŸ“‹ Copy Link</button>
  <button class="share-btn" id="shareBtn">ðŸ“¤ Share on WhatsApp</button>
</div>

</div>

<script>
console.log("Builder JS loaded"); // DEBUG LINE

let uploadedImage = "";

document.getElementById("imageFile").addEventListener("change", function(){
  const file = this.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = () => uploadedImage = reader.result;
  reader.readAsDataURL(file);
});

document.getElementById("genBtn").addEventListener("click", generate);
document.getElementById("copyBtn").addEventListener("click", copyLink);
document.getElementById("shareBtn").addEventListener("click", shareWA);

function generate(){
  console.log("Generate clicked");

  const c = document.getElementById("color").value.replace("#","");
  const h = document.getElementById("headline").value || "Landing Page";
  const s = document.getElementById("sub").value || "";
  const amt = document.getElementById("amount").value;
  const upiLink = document.getElementById("upi").value;
  const waLink = document.getElementById("wa").value;

  // public link params
  const link =
    "lp.html" +
    "?t=" + encodeURIComponent(h) +
    "&s=" + encodeURIComponent(s) +
    "&a=" + encodeURIComponent(amt) +
    "&upi=" + encodeURIComponent(upiLink) +
    "&wa=" + encodeURIComponent(waLink) +
    "&c=" + encodeURIComponent(c);

  const fullUrl = window.location.origin + "/" + link;

  // show link
  document.getElementById("publicLink").value = fullUrl;

  // ðŸ”¥ LIVE PREVIEW = SAME AS PUBLIC PAGE
  document.getElementById("preview").src = fullUrl;
}

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;font-family:Inter;background:#f8fafc}
.hero{background:#${c};color:#fff;padding:40px 20px;text-align:center}
.box{max-width:900px;margin:auto;padding:20px}
.btn{display:block;text-align:center;padding:16px;border-radius:999px;font-weight:700;text-decoration:none;margin-top:14px}
.pay{background:#dc2626;color:#fff}
.wa{background:#22c55e;color:#000}
.card{background:#fff;padding:20px;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,.08);margin-top:20px}
</style>
</head>
<body>
<div class="hero"><h1>${h}</h1><p>${s}</p></div>
<div class="box">
${media}
<div class="card">
<h2>Entry Fee: â‚¹${amt}</h2>
<a class="btn pay" href="${upiLink}">Pay & Join</a>
<a class="btn wa" href="${waLink}">Join WhatsApp Group</a>
</div>
</div>
</body>
</html>`;
}

function copyLink(){
  navigator.clipboard.writeText(publicLink.value);
  alert("Link copied!");
}
function shareWA(){
  window.open("https://wa.me/?text=" + encodeURIComponent(publicLink.value));
}
</script>

</body>
</html>


